name: iOS Build

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: macos-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Set up Xcode
      uses: maxim-lobanov/setup-xcode@v1
      with:
        xcode-version: '14.2' # 可根据需要修改

    # 如果你用到了 CocoaPods，请取消下面两行注释
    # - name: Install CocoaPods dependencies
    #   run: pod install --repo-update

    - name: Build project
      run: |
        xcodebuild -project OCMQRScanner.xcodeproj \
          -scheme OCMQRScanner \
          -sdk iphonesimulator \
          -configuration Debug \
          build
